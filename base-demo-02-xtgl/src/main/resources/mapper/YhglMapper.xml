<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.basedemo02xtgl.basedemo02xtgl.dao.YhglMapper">
    <resultMap id="sysUserResultMap" type="com.basedemo02xtgl.basedemo02xtgl.entity.SysUser">
        <result column="id" property="id" jdbcType="INTEGER" />
        <result column="username" property="username" jdbcType="VARCHAR" />
        <result column="password" property="password" jdbcType="VARCHAR" />
        <result column="avatar" property="avatar" jdbcType="VARCHAR" />
        <result column="email" property="email" jdbcType="VARCHAR" />
        <result column="xm" property="xm" jdbcType="VARCHAR" />
        <result column="sfzh" property="sfzh" jdbcType="VARCHAR" />
        <result column="phone" property="phone" jdbcType="VARCHAR" />
        <result column="last_login" property="lastLogin" jdbcType="TIMESTAMP" />
        <result column="created" property="created" jdbcType="TIMESTAMP" />
        <result column="updated" property="updated" jdbcType="TIMESTAMP" />
        <result column="state" property="state" jdbcType="INTEGER" />
    </resultMap>

    <select id="queryUsers" resultMap="sysUserResultMap">
        select *
        from sys_user
        <if test="username !='' and username != null">
            where username = #{username,jdbcType=VARCHAR}
        </if>
    </select>

    <delete id="deleteUsers">
        delete from sys_user where id = #{id,jdbcType=NUMERIC}
    </delete>

    <insert id="insertUsers" useGeneratedKeys="true" keyProperty="id" parameterType="com.basedemo02xtgl.basedemo02xtgl.entity.SysUser">
        INSERT INTO sys_user(username, password,
                             avatar,email,xm,
                             sfzh, phone, last_login,
                             created,updated,state)
        VALUES (#{sysUser.username,jdbcType=VARCHAR},#{sysUser.password,jdbcType=VARCHAR},
                #{sysUser.avatar,jdbcType=VARCHAR}, #{sysUser.email,jdbcType=VARCHAR}, #{sysUser.xm,jdbcType=VARCHAR},
                #{sysUser.sfzh,jdbcType=VARCHAR}, #{sysUser.phone,jdbcType=VARCHAR},#{sysUser.lastLogin,jdbcType=VARCHAR},
                 now(),now(),#{sysUser.state,jdbcType=NUMERIC})
    </insert>


</mapper>
